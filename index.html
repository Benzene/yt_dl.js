<!doctype html>
<html>
    <head>
        <title>yt_dl.js - Youtube download bookmarklet - Leukensis.org</title>
    </head>
    <body>
        <h4>yt_dl.js</h4>
        <p>yt_dl.js is a simple but powerful way to download Youtube videos. To use, simply drag this link to your bookmarks toolbar: <a href="javascript:function%20f(b)%7Bstr2%3Db.split(%22%26%22)%3Bret%3D%7B%7D%3Bfor(b%3D0%3Bb%3Cstr2.length%3Bb%2B%2B)str3%3Dstr2%5Bb%5D.split(%22%3D%22)%2C2!%3Dstr3.length%3Fconsole.log(%22Weird%20parameter%3A%20%22%2Bstr2%5Bb%5D)%3Aret%5Bstr3%5B0%5D%5D%3Dstr3%5B1%5D%3Breturn%20ret%7D%0Avar%20h%3D%7Be%3Afunction(b%2Ca)%7Bvar%20c%3Ddocument.createElement(b)%3Bfor(k%20in%20a)c.setAttribute(k%2Ca%5Bk%5D)%3Breturn%20c%7D%2Cb%3Afunction(b%2Ca%2Cc)%7Ba%3Ddocument.createElement(a)%3Ba.appendChild(c)%3Bb.appendChild(a)%7D%2Ca%3Afunction(b%2Ca%2Cc)%7Bthis.b(b%2Ca%2Cdocument.createTextNode(c))%7D%2Cd%3Afunction(b%2Ca%2Cc)%7Bvar%20d%3Ddocument.createElement(%22table%22)%2Cg%3Ddocument.createElement(%22tr%22)%2Ce%3Bfor(e%3D0%3Be%3Cb.length%3B%2B%2Be)this.a(g%2C%22td%22%2Cb%5Be%5D)%3Bd.appendChild(g)%3Bfor(e%3D0%3Be%3Cc.length%3B%2B%2Be)%7Bg%3Ddocument.createElement(%22tr%22)%3Bfor(b%3D0%3Bb%3Ca.length%3B%2B%2Bb)a%5Bb%5D(c%5Be%5D%2Ce)%2Cthis.b(g%2C%22td%22%2Ca%5Bb%5D(c%5Be%5D%2C%0Ae))%3Bd.appendChild(g)%7Dreturn%20d%7D%2Cc%3Afunction(b%2Ca%2Cc)%7Bc%3Dthis.e(%22a%22%2Cc)%3Bc.setAttribute(%22href%22%2Ca)%3Bc.appendChild(document.createTextNode(b))%3Breturn%20c%7D%7D%2Cl%3Ddocument.title%2Cm%3Dwindow.open(%22%22%2Cl)%3Bm.document.title%3Dl%3Bvar%20n%3Ddocument.embeds%5B0%5D.getAttribute(%22flashvars%22)%2Cp%3Df(n)%3Bctxt%3D%7B%7D%3Bctxt.title%3DdecodeURIComponent(p.title)%3Bvar%20q%3DdecodeURIComponent(p.fmt_list).split(%22%2C%22)%2Cr%3D%7B%7D%3Bfor(j%3D0%3Bj%3Cq.length%3Bj%2B%2B)fmt_list_raw2%3Dq%5Bj%5D.split(%22%2F%22)%2Cr%5Bfmt_list_raw2%5B0%5D%5D%3Dfmt_list_raw2%5B1%5D%3B%0Avar%20s%3DdecodeURIComponent(p.url_encoded_fmt_stream_map).split(%22%2C%22)%2Ct%3D%5B%5D%3Bfor(j%3D0%3Bj%3Cs.length%3Bj%2B%2B)%7Bt%5Bj%5D%3Df(s%5Bj%5D)%3Bt%5Bj%5D.real_url%3DdecodeURIComponent(t%5Bj%5D.url)%2B%22%26signature%3D%22%2Bt%5Bj%5D.sig%3Bt%5Bj%5D.type%3DdecodeURIComponent(t%5Bj%5D.type)%3Bvar%20u%3Dt%5Bj%5D.type.split(%22%3B%22)%5B0%5D.split(%22%2F%22)%5B1%5D%3Bt%5Bj%5D.extension%3D%22mp4%22%3D%3Du%7C%7C%22webm%22%3D%3Du%3F%22.%22%2Bu%3A%22x-flv%22%3D%3Du%3F%22.flv%22%3A%223gpp%22%3D%3Du%3F%22.3gp%22%3A%22%22%3Bt%5Bj%5D.resolution%3Dr%5Bt%5Bj%5D.itag%5D%7Dvar%20v%3DdecodeURIComponent(p.ttsurl)%2Cw%3Dv%2B%22%26type%3Dlist%26fmts%3D1%22%2Cx%3Dnew%20XMLHttpRequest%3B%0Ax.onload%3Dfunction()%7Bvar%20b%3Dthis.responseText%2Ca%3Bif(%22undefined%22!%3Dtypeof%20window.DOMParser)a%3Dfunction(a)%7Breturn(new%20window.DOMParser).parseFromString(a%2C%22text%2Fxml%22)%7D%3Belse%20throw%20Error(%22No%20XML%20parser%20found%20!%22)%3Ba%3Da(b).documentElement.childNodes%3Bvar%20c%3Bc%3D%5B%5D%3Bfor(var%20b%3D%5B%5D%2Cd%3D0%3Bd%3Ca.length%3B%2B%2Bd)%22track%22%3D%3D%3Da%5Bd%5D.nodeName%3Fb.push(%7Bid%3Aa%5Bd%5D.getAttribute(%22id%22)%2Cname%3Aa%5Bd%5D.getAttribute(%22name%22)%2Cg%3Aa%5Bd%5D.getAttribute(%22lang_code%22)%2Ch%3Aa%5Bd%5D.getAttribute(%22lang_translated%22)%7D)%3A(a%5Bd%5D.nodeName%3D%22format%22)%26%26c.push(a%5Bd%5D.getAttribute(%22fmt_code%22))%3B%0Avar%20g%3Dctxt%3Ba%3Ddocument.createElement(%22div%22)%3Bh.a(a%2C%22h3%22%2Cg.title)%3Ba.appendChild(h.d(%5B%22Id%22%2C%22Resolution%22%2C%22Type%22%2C%22Link%22%5D%2C%5Bfunction(a%2Cb)%7Breturn%20document.createTextNode(b%2B1)%7D%2Cfunction(a)%7Breturn%20document.createTextNode(a.resolution)%7D%2Cfunction(a)%7Breturn%20document.createTextNode(a.type)%7D%2Cfunction(a)%7Breturn%20h.c(%22Download%22%2Ca.real_url%2C%7Btarget%3A%22_blank%22%2Cf%3Ag.title%2Ba.extension%7D)%7D%5D%2Ct))%3Bh.a(a%2C%22h4%22%2C%22Subtitles%22)%3Bh.a(a%2C%22p%22%2C%22If%20you%20don't%20know%20what%20you%20need%2C%20you%20probably%20need%20the%20srt%20files.%20'0'%20is%20the%20native%20Youtube%20xml%20format.%22)%3B%0Aa.appendChild(h.d(%5B%22Id%22%2C%22Name%22%2C%22Language%22%2C%22Links%22%5D%2C%5Bfunction(a)%7Breturn%20document.createTextNode(a.id)%7D%2Cfunction(a)%7Breturn%20document.createTextNode(a.name)%7D%2Cfunction(a)%7Breturn%20document.createTextNode(a.lang_translated)%7D%2Cfunction(a)%7Bfor(var%20b%3Ddocument.createElement(%22p%22)%2Cd%3D0%3Bd%3Cc.length%3B%2B%2Bd)b.appendChild(h.c(c%5Bd%5D%2Cv%2B%22%26type%3Dtrack%26fmt%3D%22%2Bc%5Bd%5D%2B%22%26lang%3D%22%2Ba.lang_code%2B%22%26name%3D%22%2Ba.name%2C%7Btarget%3A%22_blank%22%2Cf%3Ag.title%2B%22.%22%2Bc%5Bd%5D%7D))%2Cb.appendChild(document.createTextNode(%22%20%22))%3Breturn%20b%7D%5D%2Cb))%3Bh.a(a%2C%22p%22%2C%22For%20any%20comments%2C%20updates%2C%20bugs%2C%20feedback%2C%20see%20https%3A%2F%2Fleukensis.org%2Fprojects%2Fyt_dl.js%2F%22)%3B%0Am.document.body.appendChild(a)%7D%3Bx.open(%22get%22%2Cw%2C!0)%3Bx.send()%3B" title="yt_dl.js">yt_dl.js</a>. Go to a Youtube video page, click on the bookmark, and let the magic happen. You will get direct links to the video files, in all format and resolutions, and even to the subtitles files. Click on what you need to start downloading.</p>
        <h4>Notes and requirements</h4>
        <p>The bookmarklet is tested and works best on Chrome. It works fine on Firefox, except you probably will have to set the filename for the saved video files yourself. It should work on Safari, but I can't test. It might work on Internet Explorer, I have no idea.<p>
        <p>You will need to use the Flash version of Youtube, not the HTML5 one. Making it work for the HTML5 player is possible, but I haven't found the time to do it just yet. It isn't very difficult, and if you know some Javascript, I could even explain you how to do it yourself.</p>
        <p>Code lives on <a href="https://github.com/Benzene/yt_dl.js" title="github:Benzene/yt_dl.js">Github</a>, if you want to take a look or fix something.</p>
        <p>Comments and feedback welcome, at yt_dl@leukensis.org</p>
        <h4>How it works</h4>
        <p>yt_dl.js doesn't do anything complicated nor advanced. It just looks at the current Youtube page, pokes at its internals, and finds the source url that Youtube is using to play your video. No transcoding, no external third-party service, nothing else is needed. You get access to the exact same video file Youtube was playing in your browser.</p>
    </body>
</html>
